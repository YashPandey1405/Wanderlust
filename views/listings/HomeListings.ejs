<% layout("/layouts/boilerplate") %>

<div id="filters">
  <div class="filter-section d-none d-xl-flex flex-wrap">
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Trending'"
    >
      <div><i class="fa-solid fa-fire"></i></div>
      <p>Trending</p>
    </div>

    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Rooms'"
    >
      <div><i class="fa-solid fa-bed"></i></div>
      <p>Rooms</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Iconic'"
    >
      <div><i class="fa-solid fa-mountain-city"></i></div>
      <p>Iconic</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Mountains'"
    >
      <div><i class="fa-solid fa-mountain"></i></div>
      <p>Mountains</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Castls'"
    >
      <div><i class="fa-brands fa-fort-awesome"></i></div>
      <p>Castls</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Beach'"
    >
      <div><i class="fa-solid fa-person-swimming"></i></div>
      <p>Beach</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Camping'"
    >
      <div><i class="fa-solid fa-campground"></i></div>
      <p>Camping</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Farms'"
    >
      <div><i class="fa-solid fa-cow"></i></div>
      <p>Farms</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Arctic'"
    >
      <div><i class="fa-regular fa-snowflake"></i></div>
      <p>Arctic</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Domes'"
    >
      <div><i class="fa-solid fa-igloo"></i></div>
      <p>Domes</p>
    </div>
    <div
      class="filter"
      onclick="window.location.href='/listings/selected/Skiing'"
    >
      <div><i class="fa-solid fa-person-skiing"></i></div>
      <p>Skiing</p>
    </div>
  </div>

  <!-- <div class="row d-xl-none">
    <div class="col-12">
      <select class="form-select" id="filterDropdown">
        <option value="">Select a category</option>
        <option value="/listings/selected/Trending">Trending</option>
        <option value="/listings/selected/Rooms">Rooms</option>
        <option value="/listings/selected/Iconic">Iconic</option>
        <option value="/listings/selected/Mountains">Mountains</option>
        <option value="/listings/selected/Castls">Castles</option>
        <option value="/listings/selected/Beach">Beach</option>
        <option value="/listings/selected/Camping">Camping</option>
        <option value="/listings/selected/Farms">Farms</option>
        <option value="/listings/selected/Arctic">Arctic</option>
        <option value="/listings/selected/Domes">Domes</option>
        <option value="/listings/selected/Skiing">Skiing</option>
      </select>
    </div>
  </div> -->

  <!-- DropDown When Screen Size Is Less Than xl(992px) -->
  <div class="dropdown d-xl-none">
    <button
      class="btn btn-secondary dropdown-toggle"
      type="button"
      id="dropdownMenuButton"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      Select Category
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <li>
        <a class="dropdown-item" href="/listings/selected/Trending"
          ><i class="fa-solid fa-fire me-2"></i>Trending</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Rooms"
          ><i class="fa-solid fa-bed me-2"></i>Rooms</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Iconic"
          ><i class="fa-solid fa-mountain-city me-2"></i>Iconic</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Mountains"
          ><i class="fa-solid fa-mountain me-2"></i>Mountains</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Castls"
          ><i class="fa-solid fa-fort-awesome me-2"></i>Castles</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Beach"
          ><i class="fa-solid fa-person-swimming me-2"></i>Beach</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Camping"
          ><i class="fa-solid fa-campground me-2"></i>Camping</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Farms"
          ><i class="fa-solid fa-cow me-2"></i>Farms</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Arctic"
          ><i class="fa-solid fa-igloo me-2"></i>Arctic</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Domes"
          ><i class="fa-solid fa-person-skiing me-2"></i>Domes</a
        >
      </li>
      <li>
        <a class="dropdown-item" href="/listings/selected/Skiing"
          ><i class="fa-solid fa-fire me-2"></i>Skiing</a
        >
      </li>
    </ul>
  </div>

  <div class="tax-toggle mt-2">
    <div class="form-check form-switch form-check-reverse mt-">
      <input
        class="form-check-input"
        type="checkbox"
        role="switch"
        id="flexSwitchCheckDefault"
      />
      <label class="form-check-label" for="flexSwitchCheckDefault"
        >Display total after taxes</label
      >
    </div>
  </div>
</div>

<% if (demand && demand.length) { %>
<div class="row">
  <div class="col-12 d-flex justify-content-center">
    <h2 class="mt-3 mb-6">
      Browse Listings by Criteria : '<i><%= demand %></i>'
    </h2>
  </div>
</div>

<% } %>
<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
  <% for(let list of allListings){ %>
  <a href="/listings/<%=list._id%>" class="listing-link">
    <div class="card col listing-card">
      <img
        class="card-img-top"
        src="<%= list.image.url %>"
        alt="<%= list.title %>"
        style="height: 20rem"
      />
      <div class="card-img-overlay"></div>
      <div class="card-body">
        <p class="card-text">
          <b><%= list.title %></b> <br />
          &#8377; <%= list.price.toLocaleString("en-IN") %> / Night<i
            class="tax-info"
            >&nbsp;&nbsp; +18% GST</i
          >
        </p>
      </div>
    </div>
  </a>

  <% } %>
</div>

<script src="/js/tax.js"></script>
